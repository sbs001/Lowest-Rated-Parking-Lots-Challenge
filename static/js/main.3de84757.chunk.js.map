{"version":3,"sources":["constants.js","Components/SeacrhBar/SearchBar.jsx","redux/actions/actions.js","Components/Home/Home.jsx","imgs/logo.jpeg","Components/Nav/Nav.jsx","imgs/noimage.png","Components/Card/Card.jsx","Components/Results/DisplayResults/Paged/Paged.jsx","imgs/spn.gif","Components/Results/DisplayResults/DisplayResults.jsx","Components/Results/paged.js","Components/Results/Results.jsx","redux/actions/utils.js","App.js","reportWebVitals.js","redux/reducer/reducer.js","redux/store/store.js","index.js"],"names":["dotenv","config","URL_API_PARKING_LOTS","HEADERS","process","GET_PARKING_LOTS","RESTART_STATE","SearchBar","useState","input","setInput","history","useHistory","dispatch","useDispatch","className","id","onSubmit","event","preventDefault","type","push","document","getElementById","reset","name","onChange","target","value","placeholder","required","Home","Nav","to","src","logo","alt","Card","parkingLot","img","noImg","isOpen","score","count","size","rating","edit","isHalf","activeColor","reviewCount","address","phone","href","yelpUrl","rel","Paged","actualPage","total","useSelector","state","parkingLots","length","handleClick","indication","Number","onClick","Math","ceil","DisplayResults","results","pag","location","useParams","page","useLocation","search","substr","toUpperCase","slice","map","i","spinner","Results","useEffect","axios","get","then","response","arrYelp","payload","data","businesses","element","review_count","url","image_url","address1","is_closed","toFixed","sort","a","b","catch","err","swal","getParkingLotsByLocation","App","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","InitialState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","action","applyMiddleware","thunk","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3de84757.chunk.js","sourcesContent":["import dotenv from \"dotenv\";\ndotenv.config();\n\nconst REACT_APP_API_KEY = process.env.REACT_APP_API_KEY;\n\n//----------------API------------\n\n//CORS problem solution \n// export const CORS_ANYWHERE = \"https://cors-anywhere.herokuapp.com\"\n\nexport const URL_API = \"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses\";\n\nexport const URL_API_PARKING_LOTS = `${URL_API}/search?categories=parking&term=parking&limit=50&location=`\n\nexport const HEADERS = {\n    'headers': {\n        'Authorization': `Bearer ${REACT_APP_API_KEY}`\n    }\n}\n\n\n//----------------Redux---------------\n//type\nexport const GET_PARKING_LOTS = \"GET_PARKING_LOTS\"\nexport const RESTART_STATE = \"RESTART_STATE\"","import React, { useState } from 'react';\nimport './SearchBar.css';\nimport { BsSearch } from \"react-icons/bs\";\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { restartState } from '../../redux/actions/actions';\n\nexport default function SearchBar() {\n\n  const [input, setInput] = useState('');\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const handleInputChange = (event) => {\n    setInput(event.target.value);\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    dispatch(restartState())\n    history.push(`/search/${input}`);\n    document.getElementById('SearchBarForm').reset()\n  }\n\n  return (\n    <div className='searchBar'>\n      <form id='SearchBarForm' onSubmit={handleSubmit}>\n\n        <input name=\"search\" type=\"text\" onChange={handleInputChange} placeholder=\"Example: San Francisco...\" required />\n        <button type=\"submit\"><BsSearch /></button>\n\n      </form>\n    </div>\n  )\n}","import axios from \"axios\";\nimport swal from 'sweetalert';\n\nimport { HEADERS, GET_PARKING_LOTS, URL_API_PARKING_LOTS, RESTART_STATE } from \"../../constants\";\nimport { refine } from \"./utils\";\n\n\n\nexport function getParkingLotsByLocation(location) {\n    return function(dispatch) {\n        return axios.get(URL_API_PARKING_LOTS + location, HEADERS)\n            .then((response) => {\n                dispatch({\n                    type: GET_PARKING_LOTS,\n                    payload: refine(response.data),\n                });\n            })\n            .catch((err) => swal('City not found', 'Please, try again', 'warning'));\n    };\n}\n\nexport function restartState() {\n    return {\n        type: RESTART_STATE,\n    }\n}","import React from 'react';\nimport SearchBar from '../SeacrhBar/SearchBar';\nimport './Home.css'\n\nexport default function Home() {\n\n  return (\n    <div className=\"home\">\n      <div className=\"modal fadeIn\">\n        <h1>Welcome to ParkingZone</h1>\n        <h3>Please, search location</h3>\n        <div className=\"homeSearchBar\">\n          <SearchBar />\n        </div>\n      </div>\n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/logo.9dfe544b.jpeg\";","import React from 'react';\nimport SearchBar from '../SeacrhBar/SearchBar';\nimport logo from '../../imgs/logo.jpeg';\nimport './Nav.css';\nimport { Link } from 'react-router-dom';\n\n\nexport default function Nav() {\n\n  return (\n    <div className=\"nav\">\n      <Link to=\"/home\">\n        <img src={logo} alt=\"\" />\n      </Link>\n      <div className=\"navSearchBar\">\n        <SearchBar />\n      </div>\n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/noimage.8fc5c4dd.png\";","import React from 'react';\nimport './Card.css'\nimport { FcApproval, FcHighPriority } from \"react-icons/fc\";\nimport ReactStars from \"react-rating-stars-component\";\nimport noImg from '../../imgs/noimage.png'\n\nexport default function Card({ parkingLot }) {\n  return (\n    <div className=\"card fadeIn\">\n      <img src={parkingLot.img || noImg} alt=\"not img\" />\n\n      <div className=\"cardInfo\">\n\n        <div className=\"cardInfoHeader\">\n          <div className=\"CardTitle\">\n            <h1>{parkingLot.name}</h1>\n            {\n              parkingLot.isOpen ?\n                <div className=\"isOpen\"><FcApproval className=\"icon\" /> <span> Open</span></div>\n                :\n                <div className=\"isOpen\"> <FcHighPriority className=\"icon\" /> <span> Closed</span> </div>\n            }\n          </div>\n          <div className=\"cardScore\">\n            <span className=\"score\">{parkingLot.score}</span>\n            <span>Score</span>\n          </div>\n        </div>\n        <div className=\"CardReview\">\n          <ReactStars count={5} size={40} value={parkingLot.rating} edit={false} isHalf={true} activeColor=\"#ffd700\" />\n          <span className=\"countReviews\">{parkingLot.reviewCount}</span>\n        </div>\n        <div className=\"cardAddres\">\n          <h2> {parkingLot.address}</h2>\n          <span>Phone: {parkingLot.phone || \"Not available\"}</span>\n        </div>\n        <a href={parkingLot.yelpUrl} target=\"_blank\" rel=\"noreferrer\">\n          <button>View in Yelp!</button>\n        </a>\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport './Paged.css';\nimport { FcPrevious, FcNext } from \"react-icons/fc\";\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nexport default function Paged({ actualPage }) {\n\n  const history = useHistory();\n  const total = useSelector(state => state.parkingLots.length);\n\n  const handleClick = (indication) => {\n    indication === 'back' ? history.push('?page=' + Number(actualPage - 1)) : history.push('?page=' + (Number(actualPage) + 1))\n  }\n\n  return (\n    <div className=\"paged\">\n      {actualPage > 1 ?\n        <FcPrevious onClick={() => handleClick('back')} className=\" nextBack\" /> :\n        <FcPrevious className=\"nextBack disabled\" />}\n      <span>{actualPage} of {Math.ceil(total / 10)}</span>\n      {actualPage <= total / 10 ?\n        <FcNext onClick={() => handleClick('next')} className=\"nextBack\" /> :\n        <FcNext className=\" nextBack disabled\" />}\n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/spn.ddebac37.gif\";","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLocation, useParams } from 'react-router-dom';\nimport Card from '../../Card/Card';\nimport { resultsPag } from '../paged';\nimport './DisplayResults.css';\nimport Paged from './Paged/Paged';\nimport spinner from '../../../imgs/spn.gif'\n\nexport default function DisplayResults() {\n\n  const parkingLots = useSelector(state => state.parkingLots);\n  const location = useParams().location;\n  const page = useLocation().search.substr(6) || 1;\n\n  if (!parkingLots.length) return <img className=\"spinner\" src={spinner} alt=\"\" />\n\n  return (\n    <div className=\"displayResults\">\n      <div className=\"dispResHead\">\n        <span>Top lowest rated parking lots in: \n          <span className=\"dispResLocation\"> {location[0].toUpperCase() + location.substr(1)}</span>\n          ({parkingLots.length})\n        </span>\n        <Paged actualPage={page} />\n      </div>\n\n      {resultsPag(parkingLots, page).map((parkingLot, i) =>\n        <Card key={i} parkingLot={parkingLot} />)}\n        \n      <div className='pagedBottom'>\n        <Paged actualPage={page} />\n      </div>\n    </div>\n  )\n}","export const resultsPag = (results, pag) => {\n\n    if (results.length < 10)\n        return results;\n\n    return results.slice((pag * 10) - 10, pag * 10);\n};","import React from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { getParkingLotsByLocation } from '../../redux/actions/actions';\nimport Nav from '../Nav/Nav';\nimport DisplayResults from './DisplayResults/DisplayResults';\nimport './Results.css'\n\nexport default function Results() {\n\n  const dispatch = useDispatch();\n  const location = useParams().location;\n\n  useEffect(() => {\n    dispatch(getParkingLotsByLocation(location))\n  }, [location, dispatch])\n\n  return (\n    <div className=\"results\">\n      <Nav />\n      <DisplayResults />\n    </div>\n  )\n}","const sortByScore = (arr) => {\n    return arr.sort((a, b) => {\n        if (a.score < b.score) return -1;\n        if (a.score > b.score) return 1;\n        return 0;\n    })\n}\n\n\nexport const refine = (arrYelp) => {\n    return sortByScore(arrYelp.businesses.map(element => {\n        return {\n            name: element.name,\n            rating: element.rating,\n            reviewCount: element.review_count,\n            yelpUrl: element.url,\n            img: element.image_url,\n            address: element.location.address1,\n            phone: element.phone,\n            isOpen: !element.is_closed,\n            score: ((element.review_count * element.rating) / (element.review_count + 1)).toFixed(2)\n        }\n    }))\n}","import { BrowserRouter, HashRouter, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport Home from './Components/Home/Home';\nimport Results from './Components/Results/Results';\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <Switch>\n          <Route path=\"/search/:location\" component={Results} />\n          <Route path=\"/\" component={Home} />\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { GET_PARKING_LOTS, RESTART_STATE } from \"../../constants\";\n\nconst InitialState = {\n    parkingLots: []\n};\n\nexport default function rootReducer(state = InitialState, action) {\n\n    if (action.type === GET_PARKING_LOTS)\n        return {\n            ...state,\n            parkingLots: action.payload\n        }\n    if (action.type === RESTART_STATE)\n        return {\n            ...state,\n            parkingLots: []\n        }\n    return state;\n}","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from '../reducer/reducer';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './redux/store/store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}